variables:
  GIT_DEPTH: "0"
  REVIEWDOG_GITLAB_API_TOKEN: ${REVIEWDOG_GITLAB_API_TOKEN}

stages:
  - linting

textlint:
  stage: linting
  image: node:latest
  script:
    - yarn install
    - mkdir -p ./bin
    - wget -O - -q https://raw.githubusercontent.com/reviewdog/reviewdog/master/install.sh | sh -s -- -b ./bin
    - yarn textlint -f checkstyle ./articles/ ./books/ | bin/reviewdog -f=checkstyle -name="textlint" -reporter=gitlab-mr-discussion

